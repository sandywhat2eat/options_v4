2025-06-24 21:02:21,210 - __main__ - INFO - Connecting to database...
2025-06-24 21:02:21,272 - SupabaseIntegration - INFO - Supabase client initialized successfully
2025-06-24 21:02:21,638 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/india_vix_data?select=close&order=date.desc&limit=1 "HTTP/2 404 Not Found"
2025-06-24 21:02:21,639 - __main__ - ERROR - Error fetching VIX: {'message': 'relation "public.india_vix_data" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-24 21:02:21,639 - __main__ - INFO - Fetched current VIX: 20.0
2025-06-24 21:02:21,639 - __main__ - INFO - Initializing allocator with capital: â‚¹10,000,000
2025-06-24 21:02:21,644 - __main__ - INFO - Running portfolio allocation...
2025-06-24 21:02:21,644 - core.allocator - INFO - Starting portfolio allocation with capital: 10000000
2025-06-24 21:02:21,719 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/nifty_technical_indicators?select=rsi%2Cmacd_signal%2Cema_20%2Cema_50%2Cema_200%2Cadx%2Cvolume_trend&order=created_at.desc&limit=1 "HTTP/2 404 Not Found"
2025-06-24 21:02:21,719 - core.market_direction - ERROR - Error in technical analysis: {'message': 'relation "public.nifty_technical_indicators" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-24 21:02:21,784 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/nifty_options_flow?select=pcr%2Cpcr_volume%2Cpcr_oi%2Cmax_pain%2Cspot_price%2Cfut_premium&order=created_at.desc&limit=1 "HTTP/2 404 Not Found"
2025-06-24 21:02:21,784 - core.market_direction - ERROR - Error in options flow analysis: {'message': 'relation "public.nifty_options_flow" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-24 21:02:21,895 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/nifty_price_action?select=open%2Chigh%2Clow%2Cclose%2Cvolume%2Catr%2Cprice_change_pct&order=date.desc&limit=20 "HTTP/2 404 Not Found"
2025-06-24 21:02:21,896 - core.market_direction - ERROR - Error in price action analysis: {'message': 'relation "public.nifty_price_action" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-24 21:02:21,966 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/nifty_technical_indicators?select=rsi%2Cmacd_signal%2Cema_20%2Cema_50%2Cema_200%2Cadx%2Cvolume_trend&order=created_at.desc&limit=1 "HTTP/2 404 Not Found"
2025-06-24 21:02:21,967 - core.market_direction - ERROR - Error in technical analysis: {'message': 'relation "public.nifty_technical_indicators" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-24 21:02:22,041 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/nifty_options_flow?select=pcr%2Cpcr_volume%2Cpcr_oi%2Cmax_pain%2Cspot_price%2Cfut_premium&order=created_at.desc&limit=1 "HTTP/2 404 Not Found"
2025-06-24 21:02:22,041 - core.market_direction - ERROR - Error in options flow analysis: {'message': 'relation "public.nifty_options_flow" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-24 21:02:22,119 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/nifty_price_action?select=open%2Chigh%2Clow%2Cclose%2Cvolume%2Catr%2Cprice_change_pct&order=date.desc&limit=20 "HTTP/2 404 Not Found"
2025-06-24 21:02:22,119 - core.market_direction - ERROR - Error in price action analysis: {'message': 'relation "public.nifty_price_action" does not exist', 'code': '42P01', 'hint': None, 'details': None}
2025-06-24 21:02:22,119 - core.allocator - INFO - Market state: neutral, Long/Short: 50/50
2025-06-24 21:02:22,221 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/industry_allocations_current?select=%2A "HTTP/2 200 OK"
2025-06-24 21:02:22,227 - core.industry_allocator - ERROR - Error fetching industry allocations: 'updated_at'
2025-06-24 21:02:22,228 - core.market_cap_allocator - INFO - Market cap allocation for neutral: {'large_cap': 45, 'mid_cap': 30, 'small_cap': 20, 'micro_cap': 5}
2025-06-24 21:02:22,228 - core.market_cap_allocator - INFO - VIX level 20.0: Adjusted allocations from {'large_cap': 4500000.0, 'mid_cap': 3000000.0, 'small_cap': 2000000.0, 'micro_cap': 500000.0} to {'large_cap': 4876847.290640394, 'mid_cap': 2955665.024630542, 'small_cap': 1773399.014778325, 'micro_cap': 394088.6699507389}
2025-06-24 21:02:22,299 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/industry_allocations_current?select=%2A "HTTP/2 200 OK"
2025-06-24 21:02:22,301 - core.industry_allocator - ERROR - Error fetching industry allocations: 'updated_at'
2025-06-24 21:02:22,378 - httpx - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/industry_allocations_current?select=%2A "HTTP/2 200 OK"
2025-06-24 21:02:22,384 - core.industry_allocator - ERROR - Error fetching industry allocations: 'updated_at'
2025-06-24 21:02:22,384 - core.industry_allocator - INFO - Found 0 tradeable symbols
2025-06-24 21:02:22,384 - core.market_cap_allocator - INFO - large_cap: 0 stocks
2025-06-24 21:02:22,384 - core.market_cap_allocator - INFO - mid_cap: 0 stocks
2025-06-24 21:02:22,384 - core.market_cap_allocator - INFO - small_cap: 0 stocks
2025-06-24 21:02:22,384 - core.market_cap_allocator - INFO - micro_cap: 0 stocks
2025-06-24 21:02:22,384 - core.allocator - WARNING - No symbols found for large_cap
2025-06-24 21:02:22,385 - core.allocator - WARNING - No symbols found for mid_cap
2025-06-24 21:02:22,385 - core.allocator - WARNING - No symbols found for small_cap
2025-06-24 21:02:22,385 - core.allocator - WARNING - No symbols found for micro_cap
2025-06-24 21:02:22,385 - core.allocator - INFO - Allocation complete: 0 positions
2025-06-24 21:02:22,386 - core.allocator - INFO - Saved allocation result to results/advanced_allocation_20250624_210222.json
2025-06-24 21:02:22,386 - __main__ - INFO - Results saved to: results/advanced_allocation_20250624_210222.json
